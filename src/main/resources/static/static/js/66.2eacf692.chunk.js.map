{"version":3,"file":"static/js/66.2eacf692.chunk.js","mappings":"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","sources":["features/manageShop/ManageShop.js","features/manageShop/index.js"],"sourcesContent":["// src/features/manage/ManageShop.js\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport api from \"../../api\";\r\nimport \"./ManageShop.css\";\r\n\r\n/** 숫자화 유틸 */\r\nconst toNum = (v) => {\r\n  if (v === null || v === undefined || v === \"\") return null;\r\n  const n = typeof v === \"string\" ? Number(v) : v;\r\n  return Number.isFinite(n) ? n : null;\r\n};\r\n\r\n/** 카테고리 라벨 */\r\nconst catLabel = (c) => {\r\n  const map = {\r\n    CAFE: \"카페\",\r\n    RESTAURANT: \"식당\",\r\n    ETC: \"기타\",\r\n    0: \"카페\",\r\n    1: \"식당\",\r\n    2: \"기타\",\r\n    \"0\": \"카페\",\r\n    \"1\": \"식당\",\r\n    \"2\": \"기타\",\r\n  };\r\n  return map[c] || c || \"-\";\r\n};\r\n\r\n/** 카테고리 값을 코드(\"0\"|\"1\"|\"2\")로 강제 변환 */\r\nconst catToCode = (v) => {\r\n  if (v === null || v === undefined || v === \"\") return \"\";\r\n  const s = String(v).trim().toUpperCase();\r\n  if (s === \"CAFE\") return \"0\";\r\n  if (s === \"RESTAURANT\") return \"1\";\r\n  if (s === \"ETC\") return \"2\";\r\n  if ([\"0\", \"1\", \"2\"].includes(s)) return s;\r\n  const n = Number(s);\r\n  return Number.isInteger(n) && n >= 0 && n <= 2 ? String(n) : \"\";\r\n};\r\n\r\n/** ✅ 백엔드 응답을 화면용 공통 스키마로 정규화 (owner 관련 필드는 원본에 유지) */\r\nconst normalizeStore = (raw = {}) => {\r\n  const id = raw.id ?? raw.storeId ?? raw.storeID ?? raw._id ?? null;\r\n  const name = raw.name ?? raw.storeName ?? raw.title ?? raw.shopName ?? \"-\";\r\n  const businessNumber =\r\n    raw.businessNumber ??\r\n    raw.bizNo ??\r\n    raw.businessRegistrationNumber ??\r\n    raw.registrationNumber ??\r\n    raw.brn ??\r\n    raw.business_number ??\r\n    \"-\";\r\n  const address =\r\n    raw.address ??\r\n    raw.roadAddress ??\r\n    raw.road_address ??\r\n    raw.jibunAddress ??\r\n    raw.addr ??\r\n    raw.fullAddress ??\r\n    \"-\";\r\n  const category = catToCode(\r\n    raw.category ?? raw.categoryCode ?? raw.type ?? raw.storeType ?? \"\"\r\n  );\r\n  const latitude = toNum(\r\n    raw.latitude ?? raw.lat ?? raw.y ?? raw.geoLat ?? raw.location?.lat\r\n  );\r\n  const longitude = toNum(\r\n    raw.longitude ?? raw.lng ?? raw.x ?? raw.geoLng ?? raw.location?.lng\r\n  );\r\n  return {\r\n    id: id != null ? String(id) : null, // 문자열로 고정\r\n    name,\r\n    businessNumber,\r\n    address,\r\n    category,\r\n    latitude,\r\n    longitude,\r\n    __raw: raw,\r\n  };\r\n};\r\n\r\n/** 사업자번호 포맷팅 */\r\nconst fmtBizNo = (bn) => {\r\n  const d = String(bn ?? \"\").replace(/\\D/g, \"\");\r\n  return d.length === 10\r\n    ? `${d.slice(0, 3)}-${d.slice(3, 5)}-${d.slice(5)}`\r\n    : bn || \"-\";\r\n};\r\n\r\n/** ---------- 부가 데이터 수집 유틸들 ---------- */\r\n\r\n/** 안전한 키 추출: 평균 평점 */\r\nconst pickAvgRating = (obj) => {\r\n  if (!obj || typeof obj !== \"object\") return null;\r\n  const cands = [\r\n    obj.average,\r\n    obj.avg,\r\n    obj.mean,\r\n    obj.rating,\r\n    obj.value,\r\n    obj.score,\r\n    obj?.summary?.average,\r\n    obj?.summary?.avg,\r\n  ];\r\n  const n = cands.map(toNum).find((v) => v != null);\r\n  return n != null ? n : null;\r\n};\r\n\r\n/** 안전한 키 추출: 개수/카운트 */\r\nconst pickCount = (obj) => {\r\n  if (!obj || typeof obj !== \"object\") return null;\r\n  const cands = [obj.count, obj.total, obj.size, obj.reviewCount, obj?.summary?.count];\r\n  const n = cands.map(toNum).find((v) => v != null);\r\n  return n != null ? n : null;\r\n};\r\n\r\n/** 매장별 summary/stats/rating 호출 (경로 고정) */\r\nconst fetchStoreExtras = async (storeId) => {\r\n  // ✅ 올바른 엔드포인트 규칙:\r\n  //   - /summary?storeId=ID\r\n  //   - /stats?storeId=ID\r\n  //   - /rating?storeId=ID\r\n  // (과거의 /reviews/summary 같은 경로는 사용하지 않음)\r\n  const qs = { params: { storeId } };\r\n\r\n  const [sumRes, statsRes, ratingRes] = await Promise.allSettled([\r\n    api.get(\"/summary\", qs),\r\n    api.get(\"/stats\", qs),\r\n    api.get(\"/rating\", qs),\r\n  ]);\r\n\r\n  const summary = sumRes.status === \"fulfilled\" ? sumRes.value?.data : null;\r\n  const stats = statsRes.status === \"fulfilled\" ? statsRes.value?.data : null;\r\n  const rating = ratingRes.status === \"fulfilled\" ? ratingRes.value?.data : null;\r\n\r\n  // 표시용 파생값\r\n  const avg = pickAvgRating(rating) ?? pickAvgRating(summary);\r\n  const cnt = pickCount(rating) ?? pickCount(summary) ?? pickCount(stats);\r\n\r\n  return { summary, stats, rating, _avg: avg, _count: cnt };\r\n};\r\n\r\nexport default function ManageShop() {\r\n  const navigate = useNavigate();\r\n\r\n  const [stores, setStores] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [err, setErr] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    let alive = true;\r\n\r\n    (async () => {\r\n      try {\r\n        setLoading(true);\r\n        setErr(\"\");\r\n\r\n        // 개인 매장 목록\r\n        const { data } = await api.get(\"/itda/me/stores\"); // withCredentials는 api 인스턴스에서 설정되어 있어야 함\r\n        const list = Array.isArray(data) ? data : data?.items || [];\r\n\r\n        // 정규화\r\n        const normalized = list.map(normalizeStore);\r\n\r\n        // ✅ id 없는 항목 제외 + id 기준 중복 제거\r\n        const uniq = new Map();\r\n        for (const s of normalized) {\r\n          if (!s.id) continue;\r\n          if (!uniq.has(s.id)) uniq.set(s.id, s);\r\n        }\r\n        const finalList = Array.from(uniq.values());\r\n\r\n        if (!alive) return;\r\n\r\n        // 우선 기본 목록 렌더링\r\n        setStores(finalList);\r\n\r\n        // ---------- 부가 데이터 병렬 수집 ----------\r\n        const extrasList = await Promise.all(\r\n          finalList.map(async (s) => {\r\n            try {\r\n              const extras = await fetchStoreExtras(s.id);\r\n              return { id: s.id, extras };\r\n            } catch {\r\n              return { id: s.id, extras: { summary: null, stats: null, rating: null, _avg: null, _count: null } };\r\n            }\r\n          })\r\n        );\r\n\r\n        if (!alive) return;\r\n\r\n        // 매칭하여 병합\r\n        const extrasMap = new Map(extrasList.map(({ id, extras }) => [id, extras]));\r\n        setStores((prev) =>\r\n          prev.map((s) => ({\r\n            ...s,\r\n            __extras: extrasMap.get(s.id) || null,\r\n          }))\r\n        );\r\n      } catch (e) {\r\n        if (!alive) return;\r\n\r\n        // ✅ 401 이면 로그인으로\r\n        if (e?.response?.status === 401) {\r\n          alert(\"로그인이 필요합니다.\");\r\n          navigate(\"/login\");\r\n          return;\r\n        }\r\n\r\n        setErr(e?.response?.data?.message || \"매장 목록을 불러오지 못했습니다.\");\r\n        setStores([]);\r\n      } finally {\r\n        if (alive) setLoading(false);\r\n      }\r\n    })();\r\n\r\n    return () => {\r\n      alive = false;\r\n    };\r\n  }, [navigate]);\r\n\r\n  const goCreate = () => {\r\n    navigate(\"/edit\");\r\n  };\r\n\r\n  const goEdit = (store) => {\r\n    if (!store?.id) {\r\n      alert(\"이 매장은 식별자가 없어 편집할 수 없습니다.\");\r\n      return;\r\n    }\r\n    navigate(`/edit/${store.id}`, { state: store });\r\n  };\r\n\r\n  return (\r\n    <div className=\"manage-shop-wrap\" style={{ maxWidth: 960, margin: \"0 auto\", padding: 16 }}>\r\n      <div\r\n        className=\"manage-shop-header\"\r\n        style={{ display: \"flex\", justifyContent: \"space-between\", alignItems: \"center\", marginBottom: 12 }}\r\n      >\r\n        <h2 style={{ margin: 0 }}>내 매장 관리</h2>\r\n        <button className=\"btn\" onClick={goCreate} style={{ padding: \"8px 12px\", borderRadius: 8 }}>\r\n          매장 추가\r\n        </button>\r\n      </div>\r\n\r\n      {loading && (\r\n        <div className=\"placeholder\" style={{ padding: 12, background: \"#f8f9fa\", borderRadius: 8 }}>\r\n          불러오는 중...\r\n        </div>\r\n      )}\r\n\r\n      {!loading && err && (\r\n        <div\r\n          className=\"placeholder error\"\r\n          style={{ padding: 12, background: \"#fff4f4\", border: \"1px solid #ffd5d5\", borderRadius: 8, color: \"#c00\" }}\r\n        >\r\n          {err}\r\n        </div>\r\n      )}\r\n\r\n      {!loading && !err && stores.length === 0 && (\r\n        <div\r\n          className=\"placeholder\"\r\n          style={{ padding: 12, background: \"#f8f9fa\", border: \"1px solid #eee\", borderRadius: 8 }}\r\n        >\r\n          등록된 매장이 없습니다.\r\n          <button className=\"btn\" onClick={goCreate} style={{ marginLeft: 8, padding: \"6px 10px\", borderRadius: 8 }}>\r\n            지금 추가하기\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      <div\r\n        className=\"manage-shop-grid\"\r\n        style={{\r\n          display: \"grid\",\r\n          gridTemplateColumns: \"repeat(auto-fill, minmax(280px, 1fr))\",\r\n          gap: 12,\r\n        }}\r\n      >\r\n        {stores.map((s) => {\r\n          const avg = s.__extras?._avg;\r\n          const cnt = s.__extras?._count;\r\n          const chip = avg != null ? `${avg.toFixed ? avg.toFixed(1) : avg}★${cnt != null ? ` · ${cnt}` : \"\"}` : null;\r\n\r\n          return (\r\n            <div\r\n              key={s.id}\r\n              className=\"shop-card\"\r\n              role=\"button\"\r\n              tabIndex={0}\r\n              onClick={() => goEdit(s)}\r\n              onKeyDown={(e) => e.key === \"Enter\" && goEdit(s)}\r\n              style={{\r\n                background: \"#fff\",\r\n                border: \"1px solid #eee\",\r\n                borderRadius: 12,\r\n                padding: 12,\r\n                cursor: \"pointer\",\r\n                transition: \"box-shadow .2s, transform .05s\",\r\n              }}\r\n              onMouseEnter={(e) => (e.currentTarget.style.boxShadow = \"0 8px 20px rgba(0,0,0,.08)\")}\r\n              onMouseLeave={(e) => (e.currentTarget.style.boxShadow = \"none\")}\r\n            >\r\n              <div className=\"shop-card-title\" style={{ display: \"flex\", gap: 8, alignItems: \"center\", marginBottom: 8 }}>\r\n                <span className=\"shop-name\" style={{ fontWeight: 700, fontSize: 16 }}>\r\n                  {s.name || \"-\"}\r\n                </span>\r\n                {s.category != null && (\r\n                  <span\r\n                    className=\"shop-category\"\r\n                    style={{\r\n                      fontSize: 12,\r\n                      color: \"#555\",\r\n                      background: \"#f1f3f5\",\r\n                      borderRadius: 999,\r\n                      padding: \"2px 8px\",\r\n                    }}\r\n                  >\r\n                    {catLabel(s.category)}\r\n                  </span>\r\n                )}\r\n                {chip && (\r\n                  <span\r\n                    className=\"shop-rating-chip\"\r\n                    title=\"평균 평점 · 리뷰 수\"\r\n                    style={{\r\n                      marginLeft: \"auto\",\r\n                      fontSize: 12,\r\n                      color: \"#333\",\r\n                      background: \"#fff7e6\",\r\n                      border: \"1px solid #ffe0a3\",\r\n                      borderRadius: 999,\r\n                      padding: \"2px 8px\",\r\n                    }}\r\n                  >\r\n                    {chip}\r\n                  </span>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"shop-meta\" style={{ display: \"flex\", gap: 8, fontSize: 14, margin: \"4px 0\" }}>\r\n                <span className=\"label\" style={{ width: 88, color: \"#777\", flex: \"0 0 88px\" }}>\r\n                  사업자번호\r\n                </span>\r\n                <span className=\"value\" style={{ color: \"#333\" }}>\r\n                  {fmtBizNo(s.businessNumber)}\r\n                </span>\r\n              </div>\r\n\r\n              <div className=\"shop-meta\" style={{ display: \"flex\", gap: 8, fontSize: 14, margin: \"4px 0\" }}>\r\n                <span className=\"label\" style={{ width: 88, color: \"#777\", flex: \"0 0 88px\" }}>\r\n                  주소\r\n                </span>\r\n                <span\r\n                  className=\"value\"\r\n                  style={{ color: \"#333\", overflow: \"hidden\", textOverflow: \"ellipsis\", whiteSpace: \"nowrap\" }}\r\n                  title={s.address || \"\"}\r\n                >\r\n                  {s.address || \"-\"}\r\n                </span>\r\n              </div>\r\n\r\n              <div className=\"shop-meta\" style={{ display: \"flex\", gap: 8, fontSize: 14, margin: \"4px 0\" }}>\r\n                <span className=\"label\" style={{ width: 88, color: \"#777\", flex: \"0 0 88px\" }}>\r\n                  좌표\r\n                </span>\r\n                <span className=\"value\" style={{ color: \"#333\" }}>\r\n                  {s.latitude != null && s.longitude != null ? `${s.latitude}, ${s.longitude}` : \"-\"}\r\n                </span>\r\n              </div>\r\n\r\n              {/* 선택적으로 더 보여줄 수 있는 stats 조각 */}\r\n              {s.__extras?.stats && (\r\n                <div className=\"shop-meta\" style={{ display: \"flex\", gap: 8, fontSize: 13, marginTop: 6, color: \"#555\" }}>\r\n                  <span className=\"label\" style={{ width: 88, color: \"#777\", flex: \"0 0 88px\" }}>\r\n                    통계\r\n                  </span>\r\n                  <span className=\"value\" style={{ color: \"#333\" }}>\r\n                    {/* 프로젝트별로 키가 다를 수 있어 유연하게 표기 */}\r\n                    {Object.entries(s.__extras.stats)\r\n                      .slice(0, 3) // 너무 길어지지 않게 몇 개만\r\n                      .map(([k, v]) => `${k}: ${typeof v === \"number\" ? v : String(v)}`)\r\n                      .join(\" · \")}\r\n                  </span>\r\n                </div>\r\n              )}\r\n            </div>\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import { Routes, Route, Navigate } from \"react-router-dom\";\r\nimport ManageShop from \"./ManageShop\";\r\n\r\nexport default function ManageShopFeature() {\r\n  return (\r\n    <div data-app=\"manage-shop\">\r\n      <Routes>\r\n        <Route index element={<ManageShop />} />\r\n        {/* 필요 시 하위 경로 추가 가능\r\n            <Route path=\"analytics\" element={<ManageAnalytics />} />\r\n        */}\r\n        <Route path=\"*\" element={<Navigate to=\".\" replace />} />\r\n      </Routes>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["toNum","v","undefined","n","Number","isFinite","catLabel","c","CAFE","RESTAURANT","ETC","normalizeStore","_ref","_ref2","_ref3","_raw$id","_ref4","_ref5","_ref6","_raw$name","_ref7","_ref8","_ref9","_ref0","_ref1","_raw$businessNumber","_ref10","_ref11","_ref12","_ref13","_ref14","_raw$address","_ref15","_ref16","_ref17","_raw$category","_ref18","_ref19","_ref20","_raw$latitude","_raw$location","_ref21","_ref22","_ref23","_raw$longitude","_raw$location2","raw","arguments","length","id","storeId","storeID","_id","name","storeName","title","shopName","businessNumber","bizNo","businessRegistrationNumber","registrationNumber","brn","business_number","address","roadAddress","road_address","jibunAddress","addr","fullAddress","category","s","String","trim","toUpperCase","includes","isInteger","catToCode","categoryCode","type","storeType","latitude","lat","y","geoLat","location","longitude","lng","x","geoLng","__raw","fmtBizNo","bn","d","replace","concat","slice","pickAvgRating","obj","_obj$summary","_obj$summary2","average","avg","mean","rating","value","score","summary","map","find","pickCount","_obj$summary3","count","total","size","reviewCount","fetchStoreExtras","async","_sumRes$value","_statsRes$value","_ratingRes$value","_pickAvgRating","_ref24","_pickCount","qs","params","sumRes","statsRes","ratingRes","Promise","allSettled","api","status","data","stats","_avg","_count","ManageShop","navigate","useNavigate","stores","setStores","useState","loading","setLoading","err","setErr","useEffect","alive","normalized","Array","isArray","items","uniq","Map","has","set","finalList","from","values","extrasList","all","extras","_unused","extrasMap","_ref25","prev","_objectSpread","__extras","get","e","_e$response","_e$response2","_e$response2$data","response","alert","message","goCreate","goEdit","store","state","_jsxs","className","style","maxWidth","margin","padding","children","display","justifyContent","alignItems","marginBottom","_jsx","onClick","borderRadius","background","border","color","marginLeft","gridTemplateColumns","gap","_s$__extras","_s$__extras2","_s$__extras3","cnt","chip","toFixed","role","tabIndex","onKeyDown","key","cursor","transition","onMouseEnter","currentTarget","boxShadow","onMouseLeave","fontWeight","fontSize","width","flex","overflow","textOverflow","whiteSpace","marginTop","Object","entries","_ref26","k","join","ManageShopFeature","Routes","Route","index","element","path","Navigate","to"],"sourceRoot":""}