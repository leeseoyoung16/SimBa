"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[705],{86:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});var l=a(338),t=a(43),r=a(674),n=a(579);function i(){const e=(0,l.Zp)(),s=(0,l.zy)(),a=new URLSearchParams(s.search),i=a.get("next")||"/",o=a.get("role"),[d,c]=(0,t.useState)("OWNER"===o?"OWNER":"USER"),[u,m]=(0,t.useState)(""),[h,p]=(0,t.useState)(""),[g,x]=(0,t.useState)(""),[v,j]=(0,t.useState)(!1),[N,R]=(0,t.useState)("");return(0,n.jsx)("div",{className:"auth auth-register",children:(0,n.jsxs)("div",{className:"container",children:[(0,n.jsx)("div",{className:"logo",role:"img","aria-label":"Itda",children:"Itda"}),(0,n.jsx)("h2",{className:"title",children:"Itda\uc5d0 \uc624\uc2e0 \uac83\uc744 \ud658\uc601\ud569\ub2c8\ub2e4!"}),(0,n.jsxs)("form",{onSubmit:async s=>{if(s.preventDefault(),v)return;const a=(()=>{const e=u.trim(),s=g.trim(),a=h.trim();return e.length<4||e.length>15?"\uc544\uc774\ub514\ub294 4\uc790 \uc774\uc0c1 15\uc790 \uc774\ud558\uc5ec\uc57c \ud569\ub2c8\ub2e4.":s.length<8||s.length>20?"\ube44\ubc00\ubc88\ud638\ub294 8\uc790 \uc774\uc0c1 20\uc790 \uc774\ud558\uc5ec\uc57c \ud569\ub2c8\ub2e4.":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(a)?"OWNER"!==d&&"USER"!==d?"\uc5ed\ud560\uc744 \uc120\ud0dd\ud558\uc138\uc694.":"":"\uc62c\ubc14\ub978 \uc774\uba54\uc77c \ud615\uc2dd\uc744 \uc785\ub825\ud558\uc138\uc694."})();if(a)R(a);else{R("");try{j(!0),await r.Ay.post("/itda/auth/register",{username:u.trim(),password:g.trim(),email:h.trim(),role:d}),alert("\ud68c\uc6d0\uac00\uc785 \uc131\uacf5!"),e("/login?next="+encodeURIComponent(i),{replace:!0})}catch(c){var l,t,n,o;const e=(null===c||void 0===c||null===(l=c.response)||void 0===l||null===(t=l.data)||void 0===t?void 0:t.message)||(null===c||void 0===c||null===(n=c.response)||void 0===n||null===(o=n.data)||void 0===o?void 0:o.error)||"\ud68c\uc6d0\uac00\uc785\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.";R(e)}finally{j(!1)}}},className:"register-form",noValidate:!0,children:[(0,n.jsxs)("fieldset",{className:"role-group",disabled:v,children:[(0,n.jsx)("legend",{className:"role-legend",children:"\uc5ed\ud560 \uc120\ud0dd"}),(0,n.jsxs)("div",{className:"role-seg",children:[(0,n.jsxs)("label",{className:"seg"+("OWNER"===d?" active":""),htmlFor:"role-owner",children:[(0,n.jsx)("input",{id:"role-owner",className:"sr-only",type:"radio",name:"role",value:"OWNER",checked:"OWNER"===d,onChange:()=>c("OWNER")}),(0,n.jsx)("span",{className:"seg-title",children:"\uc0ac\uc7a5\ub2d8"}),(0,n.jsx)("span",{className:"seg-desc",children:"\uac00\uac8c \uad00\ub9ac / \ubbf8\uc158 \ub4f1\ub85d"})]}),(0,n.jsxs)("label",{className:"seg"+("USER"===d?" active":""),htmlFor:"role-reviewer",children:[(0,n.jsx)("input",{id:"role-reviewer",className:"sr-only",type:"radio",name:"role",value:"USER",checked:"USER"===d,onChange:()=>c("USER")}),(0,n.jsx)("span",{className:"seg-title",children:"\ub9ac\ubdf0\uc5b4"}),(0,n.jsx)("span",{className:"seg-desc",children:"\ubbf8\uc158 \ucc38\uc5ec / \ub9ac\ubdf0 \uc791\uc131"})]})]})]}),(0,n.jsx)("input",{type:"text",placeholder:"\uc544\uc774\ub514 (4~15\uc790)",value:u,onChange:e=>m(e.target.value),autoComplete:"username",required:!0}),(0,n.jsx)("input",{type:"email",placeholder:"\uc774\uba54\uc77c",value:h,onChange:e=>p(e.target.value),autoComplete:"email",required:!0}),(0,n.jsx)("input",{type:"password",placeholder:"\ube44\ubc00\ubc88\ud638 (8~20\uc790)",value:g,onChange:e=>x(e.target.value),autoComplete:"new-password",required:!0}),N&&(0,n.jsx)("div",{className:"form-error",children:N}),(0,n.jsx)("button",{type:"submit",className:"signup-btn",disabled:v,children:v?"\uac00\uc785 \uc911...":"\ud68c\uc6d0\uac00\uc785"}),(0,n.jsx)("button",{type:"button",className:"link-btn",onClick:()=>e("/login?next="+encodeURIComponent(i)),disabled:v,children:"\uc774\ubbf8 \uacc4\uc815\uc774 \uc788\uc73c\uc2e0\uac00\uc694? \ub85c\uadf8\uc778"})]})]})})}function o(){return(0,n.jsx)("div",{"data-app":"map",children:(0,n.jsxs)(l.BV,{children:[(0,n.jsx)(l.qh,{index:!0,element:(0,n.jsx)(i,{})}),(0,n.jsx)(l.qh,{path:"*",element:(0,n.jsx)(l.C5,{to:".",replace:!0})})]})})}}}]);
//# sourceMappingURL=705.9f5846fa.chunk.js.map