"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[454],{454:(e,a,t)=>{t.r(a),t.d(a,{default:()=>o});var s=t(338),n=t(43),l=t(674),r=t(579);function i(){var e;const[a,t]=(0,n.useState)(""),[i,o]=(0,n.useState)(""),[d,u]=(0,n.useState)(!1),[c,p]=(0,n.useState)(""),h=(0,s.Zp)(),m=(0,s.zy)(),{setUser:v}=null!==(e=(0,s.KC)())&&void 0!==e?e:{},x=new URLSearchParams(m.search).get("next")||"/";return(0,r.jsx)("div",{className:"auth auth-login",children:(0,r.jsxs)("div",{className:"container",children:[(0,r.jsx)("div",{className:"logo",role:"img","aria-label":"Itda",children:"Itda"}),(0,r.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!d){p("");try{u(!0),await l.Ay.post("/itda/auth/login",{username:a,password:i});const e=await l.Ay.get("/itda/me");null===v||void 0===v||v(e.data),h(x,{replace:!0})}catch(n){var t,s;const e=(null===n||void 0===n||null===(t=n.response)||void 0===t||null===(s=t.data)||void 0===s?void 0:s.message)||"\ub85c\uadf8\uc778\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.";p(e)}finally{u(!1)}}},className:"login-form",children:[(0,r.jsx)("input",{type:"text",placeholder:"\uc544\uc774\ub514(\ub610\ub294 \uc774\uba54\uc77c)",value:a,onChange:e=>t(e.target.value),autoComplete:"username",required:!0}),(0,r.jsx)("input",{type:"password",placeholder:"\ube44\ubc00\ubc88\ud638",value:i,onChange:e=>o(e.target.value),autoComplete:"current-password",required:!0}),c&&(0,r.jsx)("div",{className:"form-error",children:c}),(0,r.jsxs)("div",{className:"links",children:[(0,r.jsx)("button",{type:"submit",className:"login-btn",disabled:d,children:d?"\ub85c\uadf8\uc778 \uc911...":"\ub85c\uadf8\uc778"}),(0,r.jsx)("button",{type:"button",className:"link-btn",onClick:()=>h("/register?next="+encodeURIComponent(x)),disabled:d,children:"\ud68c\uc6d0\uac00\uc785"})]})]})]})})}function o(){return(0,r.jsx)("div",{"data-app":"map",children:(0,r.jsxs)(s.BV,{children:[(0,r.jsx)(s.qh,{index:!0,element:(0,r.jsx)(i,{})}),(0,r.jsx)(s.qh,{path:"*",element:(0,r.jsx)(s.C5,{to:".",replace:!0})})]})})}}}]);
//# sourceMappingURL=454.a560a64e.chunk.js.map